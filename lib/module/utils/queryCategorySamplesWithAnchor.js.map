{"version":3,"names":["deserializCategorySample","prepareOptions","Native","queryCategorySamplesWithAnchor","identifier","options","opts","raw","from","to","limit","anchor","samples","map","deletedSamples","newAnchor"],"sources":["queryCategorySamplesWithAnchor.ts"],"sourcesContent":["import deserializCategorySample from './deserializeCategorySample'\nimport prepareOptions from './prepareOptions'\nimport Native from '../native-types'\n\nimport type { HKCategoryTypeIdentifier, DeletedCategorySampleRaw } from '../native-types'\nimport type { GenericQueryOptions, HKCategorySample } from '../types'\n\nexport type QueryCategorySamplesWithAnchorResponse<T extends HKCategoryTypeIdentifier> = {\n  readonly samples: readonly HKCategorySample<T>[],\n  readonly deletedSamples: readonly DeletedCategorySampleRaw<T>[],\n  readonly newAnchor: string\n}\n\nexport type QueryCategorySamplesWithAnchorFn = <T extends HKCategoryTypeIdentifier>(\n  identifier: T,\n  options: Omit<GenericQueryOptions, 'ascending'>\n) => Promise<QueryCategorySamplesWithAnchorResponse<T>>;\n\nconst queryCategorySamplesWithAnchor: QueryCategorySamplesWithAnchorFn = async (\n  identifier,\n  options,\n) => {\n  const opts = prepareOptions(options)\n  const raw = await Native.queryCategorySamplesWithAnchor(\n    identifier,\n    opts.from,\n    opts.to,\n    opts.limit,\n    opts.anchor,\n  )\n\n  return {\n    samples: raw.samples.map(deserializCategorySample),\n    deletedSamples: raw.deletedSamples,\n    newAnchor: raw.newAnchor,\n  }\n}\n\nexport default queryCategorySamplesWithAnchor\n"],"mappings":"AAAA,OAAOA,wBAAwB,MAAM,6BAA6B;AAClE,OAAOC,cAAc,MAAM,kBAAkB;AAC7C,OAAOC,MAAM,MAAM,iBAAiB;AAgBpC,MAAMC,8BAAgE,GAAG,MAAAA,CACvEC,UAAU,EACVC,OAAO,KACJ;EACH,MAAMC,IAAI,GAAGL,cAAc,CAACI,OAAO,CAAC;EACpC,MAAME,GAAG,GAAG,MAAML,MAAM,CAACC,8BAA8B,CACrDC,UAAU,EACVE,IAAI,CAACE,IAAI,EACTF,IAAI,CAACG,EAAE,EACPH,IAAI,CAACI,KAAK,EACVJ,IAAI,CAACK,MACP,CAAC;EAED,OAAO;IACLC,OAAO,EAAEL,GAAG,CAACK,OAAO,CAACC,GAAG,CAACb,wBAAwB,CAAC;IAClDc,cAAc,EAAEP,GAAG,CAACO,cAAc;IAClCC,SAAS,EAAER,GAAG,CAACQ;EACjB,CAAC;AACH,CAAC;AAED,eAAeZ,8BAA8B"}