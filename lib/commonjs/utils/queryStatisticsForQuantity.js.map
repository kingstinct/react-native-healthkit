{"version":3,"names":["_ensureUnit","_interopRequireDefault","require","_nativeTypes","obj","__esModule","default","queryStatisticsForQuantity","identifier","options","from","to","unit","actualUnit","ensureUnit","toDate","Date","mostRecentQuantityDateInterval","rawResponse","Native","toISOString","response","_default","exports"],"sources":["queryStatisticsForQuantity.ts"],"sourcesContent":["import ensureUnit from './ensureUnit'\nimport Native from '../native-types'\n\nimport type { HKQuantityTypeIdentifier, HKStatisticsOptions, UnitForIdentifier } from '../native-types'\n\nasync function queryStatisticsForQuantity<TIdentifier extends HKQuantityTypeIdentifier, TUnit extends UnitForIdentifier<TIdentifier> = UnitForIdentifier<TIdentifier>>(\n  identifier: TIdentifier,\n  options: readonly HKStatisticsOptions[],\n  from: Date,\n  to?: Date,\n  unit?: TUnit,\n) {\n  const actualUnit = await ensureUnit(identifier, unit)\n  const toDate = to || new Date()\n  const { mostRecentQuantityDateInterval, ...rawResponse } = await Native.queryStatisticsForQuantity(\n    identifier,\n    actualUnit,\n    from.toISOString(),\n    toDate.toISOString(),\n    options,\n  )\n\n  const response = {\n    ...rawResponse,\n    ...(mostRecentQuantityDateInterval\n      ? {\n        mostRecentQuantityDateInterval: {\n          from: new Date(mostRecentQuantityDateInterval.from),\n          to: new Date(mostRecentQuantityDateInterval.to),\n        },\n      }\n      : {}),\n  }\n\n  return response\n}\n\nexport default queryStatisticsForQuantity\n"],"mappings":";;;;;;AAAA,IAAAA,WAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,YAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAoC,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAIpC,eAAeG,0BAA0BA,CACvCC,UAAuB,EACvBC,OAAuC,EACvCC,IAAU,EACVC,EAAS,EACTC,IAAY,EACZ;EACA,MAAMC,UAAU,GAAG,MAAM,IAAAC,mBAAU,EAACN,UAAU,EAAEI,IAAI,CAAC;EACrD,MAAMG,MAAM,GAAGJ,EAAE,IAAI,IAAIK,IAAI,CAAC,CAAC;EAC/B,MAAM;IAAEC,8BAA8B;IAAE,GAAGC;EAAY,CAAC,GAAG,MAAMC,oBAAM,CAACZ,0BAA0B,CAChGC,UAAU,EACVK,UAAU,EACVH,IAAI,CAACU,WAAW,CAAC,CAAC,EAClBL,MAAM,CAACK,WAAW,CAAC,CAAC,EACpBX,OACF,CAAC;EAED,MAAMY,QAAQ,GAAG;IACf,GAAGH,WAAW;IACd,IAAID,8BAA8B,GAC9B;MACAA,8BAA8B,EAAE;QAC9BP,IAAI,EAAE,IAAIM,IAAI,CAACC,8BAA8B,CAACP,IAAI,CAAC;QACnDC,EAAE,EAAE,IAAIK,IAAI,CAACC,8BAA8B,CAACN,EAAE;MAChD;IACF,CAAC,GACC,CAAC,CAAC;EACR,CAAC;EAED,OAAOU,QAAQ;AACjB;AAAC,IAAAC,QAAA,GAEcf,0BAA0B;AAAAgB,OAAA,CAAAjB,OAAA,GAAAgB,QAAA"}