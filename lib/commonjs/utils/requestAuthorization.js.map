{"version":3,"names":["_nativeTypes","_interopRequireDefault","require","obj","__esModule","default","requestAuthorization","read","write","arguments","length","undefined","readPermissions","reduce","cur","writePermissions","Native","_default","exports"],"sources":["requestAuthorization.ts"],"sourcesContent":["import Native from '../native-types'\n\nimport type {\n  HealthkitReadAuthorization, HealthkitWriteAuthorization, ReadPermissions, WritePermissions,\n} from '../native-types'\n\n/** See https://developer.apple.com/documentation/healthkit/hkhealthstore/1614152-requestauthorization */\nconst requestAuthorization = async (\n  read: readonly HealthkitReadAuthorization[],\n  write: readonly HealthkitWriteAuthorization[] = [],\n): Promise<boolean> => {\n  const readPermissions = read.reduce((obj, cur) => ({ ...obj, [cur]: true }), {} as ReadPermissions)\n\n  const writePermissions = write.reduce((obj, cur) => ({ ...obj, [cur]: true }), {} as WritePermissions)\n\n  return Native.requestAuthorization(writePermissions, readPermissions)\n}\n\nexport default requestAuthorization\n"],"mappings":";;;;;;AAAA,IAAAA,YAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAoC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAMpC;AACA,MAAMG,oBAAoB,GAAG,eAAAA,CAC3BC,IAA2C,EAEtB;EAAA,IADrBC,KAA6C,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;EAElD,MAAMG,eAAe,GAAGL,IAAI,CAACM,MAAM,CAAC,CAACV,GAAG,EAAEW,GAAG,MAAM;IAAE,GAAGX,GAAG;IAAE,CAACW,GAAG,GAAG;EAAK,CAAC,CAAC,EAAE,CAAC,CAAoB,CAAC;EAEnG,MAAMC,gBAAgB,GAAGP,KAAK,CAACK,MAAM,CAAC,CAACV,GAAG,EAAEW,GAAG,MAAM;IAAE,GAAGX,GAAG;IAAE,CAACW,GAAG,GAAG;EAAK,CAAC,CAAC,EAAE,CAAC,CAAqB,CAAC;EAEtG,OAAOE,oBAAM,CAACV,oBAAoB,CAACS,gBAAgB,EAAEH,eAAe,CAAC;AACvE,CAAC;AAAA,IAAAK,QAAA,GAEcX,oBAAoB;AAAAY,OAAA,CAAAb,OAAA,GAAAY,QAAA"}